@using Simple_CSharp_Games.Models.FinalBattle

<div class="finalbattle-game-container">
	<h3>@GameTitle</h3>

	<button class="btn btn-primary" @onclick="StartGame">Test Start</button>

	<button class="btn btn-primary" @onclick="StartBattle">Test Battle</button>

	<div class="init-messages-container">
		@for (int i = 0; i < messageLog?.Count; i++)
		{
			var message = messageLog[i];
			<p>@message</p>
		}
	</div>

	<div class="battle-messages-container">
		@for (int i = 0; i < battleLog?.Count; i++)
		{
			var message = battleLog[i];
			<p>@message</p>
		}
	</div>

</div>

@code {
	private string GameTitle = "The Final Battle";

	Game battleGame = new Game();

	private string? heroName;

	private List<string>? messageLog;

	private List<string>? battleLog;


	private void StartGame()
	{
		heroName = "Test";
		if(heroName != null)
			messageLog = battleGame.InitializeGame(heroName);			
	}

	private void StartBattle()
	{
		battleLog = battleGame.CommenceBattle();
	}
}
